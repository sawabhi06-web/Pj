<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dance Invitation</title>
<style>
/* One-line font import fix */
@import url('https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&display=swap');

body {
    background: linear-gradient(135deg, #ffdde1, #ee9ca7, #fad0c4);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 100vh;
    font-family: Arial, sans-serif, 'Dancing Script';
    overflow-x: hidden;
    overflow-y: hidden;
    position: relative;
    animation: fadeIn 1s ease;
}

/* Subtle bokeh overlay */
body::after {
    content: "";
    position: absolute;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background: url('https://www.transparenttextures.com/patterns/bokeh.png') repeat;
    opacity: 0.05;
    pointer-events: none;
}

@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

h1 {
    font-family: 'Dancing Script', cursive;
    font-size: 2.5em;
    margin-bottom: 30px;
    text-align: center;
    color: black;
    text-shadow: 0 0 10px rgba(0,0,0,0.2);
}

.buttons {
    display: flex;
    gap: 30px;
    z-index: 2;
}

button {
    padding: 15px 30px;
    font-size: 1.2em;
    cursor: pointer;
    border: none;
    border-radius: 10px;
    transition: transform 0.2s ease, box-shadow 0.2s ease;
    position: relative;
    color: white;
    backdrop-filter: blur(5px);
}

button:hover {
    transform: scale(1.1);
    box-shadow: 0 5px 20px rgba(0,0,0,0.4);
}

#yesBtn {
    background-color: #ff4081;
    box-shadow: 0 0 15px rgba(255, 64, 129, 0.6);
    animation: pulse 1.5s infinite;
}

@keyframes pulse { 0%,100%{transform:scale(1);} 50%{transform:scale(1.1);} }

#noBtn {
    background-color: #f44336;
    box-shadow: 0 0 15px rgba(244, 67, 54, 0.6);
    position: fixed;
}

.gif-container {
    margin-top: 30px;
    background: rgba(255,255,255,0.2);
    backdrop-filter: blur(10px);
    border-radius: 20px;
    padding: 10px;
}

.gif-container img {
    width: 200px;
    border-radius: 15px;
}

.heart, .rose { position: absolute; font-size: 24px; animation-name: float; animation-timing-function: linear; animation-iteration-count: infinite; }

@keyframes float { 0% { transform: translateY(100vh) scale(1); opacity: 1; } 100% { transform: translateY(-50px) scale(0.5); opacity: 0; } }

.falling-emoji { position: absolute; font-size: 24px; animation: fall 4s linear forwards; }

@keyframes fall { 0% { transform: translateY(-50px); opacity: 1; } 100% { transform: translateY(calc(100vh - 50px)); opacity: 1; } }

#collected-container {
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    height: auto;
    pointer-events: none;
    display: flex;
    flex-wrap: wrap;
    align-items: flex-end;
    z-index: 1;
}

.collected { position: relative; font-size: 24px; margin: 0 2px 2px 0; animation: bob 2s ease-in-out infinite; transform-origin: bottom center; }

@keyframes bob { 0%,100%{transform:translateY(0);}50%{transform:translateY(-6px);} }

@media (max-width: 600px) {
    h1 { font-size: 1.5em; margin-bottom: 20px; }
    .buttons { flex-direction: column; gap: 15px; }
    button { padding: 12px 25px; font-size: 1em; }
    .gif-container img { width: 150px; margin-top: 20px; }
    .heart, .falling-emoji, .collected, .rose { font-size: 18px; }
}
</style>
</head>
<body>
<h1>Madam Ji ðŸ’•, will you make this moment unforgettable and dance with me tonight?</h1>

<div class="buttons">
    <button id="yesBtn" onclick="showYesMessage()">Yes</button>
    <button id="noBtn">No</button>
</div>

<div class="gif-container">
    <img src="https://media1.giphy.com/media/v1.Y2lkPTc5MGI3NjExanF4OTduZXRvODd0aXYwZWdhbWpsYXAwbjczeWZyMThleGxnbm42eSZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/BHF4tsoVn4XxeEhsj8/giphy.gif" alt="Dance GIF">
</div>

<div id="collected-container"></div>

<script>
const noBtn = document.getElementById('noBtn');
let noBtnX = window.innerWidth / 2;
let noBtnY = window.innerHeight / 2;
let targetX = noBtnX;
let targetY = noBtnY;
let moveCount = 0;

const collectedContainer = document.getElementById('collected-container');
const emojiSize = window.innerWidth < 600 ? 20 : 26; 
let rowCount = 0;
let currentRowEmojis = 0;
const maxEmojisPerRow = Math.floor(window.innerWidth / emojiSize);

noBtn.style.left = noBtnX + "px";
noBtn.style.top = noBtnY + "px";

document.addEventListener('mousemove', function(e) {
    const mouseX = e.clientX;
    const mouseY = e.clientY;
    const rect = noBtn.getBoundingClientRect();
    const btnX = rect.left + rect.width / 2;
    const btnY = rect.top + rect.height / 2;
    const distance = Math.hypot(mouseX - btnX, mouseY - btnY);

    if (distance < 100) {
        const padding = 10;
        targetX = Math.random() * (window.innerWidth - rect.width - 2 * padding) + padding;
        targetY = Math.random() * (window.innerHeight - rect.height - 2 * padding) + padding;

        moveCount++;
        if (moveCount % 2 === 0) showCursorGif(mouseX, mouseY);
        if (moveCount % 4 === 0) showFallingEmojis();
    }
});

function moveNoBtn() {
    noBtnX += (targetX - noBtnX) * 0.1;
    noBtnY += (targetY - noBtnY) * 0.1;
    noBtn.style.left = noBtnX + "px";
    noBtn.style.top = noBtnY + "px";
    requestAnimationFrame(moveNoBtn);
}
moveNoBtn();

// NEW: Show animated Yes message below button
function showYesMessage() {
    const yesBtn = document.getElementById('yesBtn');
    const yesRect = yesBtn.getBoundingClientRect();

    const msg = document.createElement('div');
    msg.textContent = "Yay! ðŸ’ƒðŸ•º I knew youâ€™d say Yes â¤ï¸âœ¨";
    msg.style.position = 'absolute';
    msg.style.top = (yesRect.bottom + 10) + 'px'; // 10px below Yes button
    msg.style.left = yesRect.left + 'px';
    msg.style.fontSize = '1.8em';
    msg.style.color = '#ff4081';
    msg.style.textAlign = 'center';
    msg.style.padding = '10px 20px';
    msg.style.borderRadius = '12px';
    msg.style.background = 'rgba(255,255,255,0.2)';
    msg.style.backdropFilter = 'blur(10px)';
    msg.style.boxShadow = '0 0 15px rgba(0,0,0,0.2)';
    msg.style.animation = 'fadeIn 1s ease';
    document.body.appendChild(msg);

    const interval = setInterval(createHeart, 400); // floating hearts
    setTimeout(() => {
        clearInterval(interval);
        window.location.href = 'fifth.html';
    }, 3000);
}

// Floating hearts & roses
function createHeart() {
    const heart = document.createElement('div');
    heart.classList.add('heart');
    heart.textContent = Math.random() > 0.5 ? 'â¤ï¸' : 'ðŸŒ¹';
    heart.style.left = Math.random() * (window.innerWidth - 30) + 'px';
    heart.style.color = `hsl(${Math.random() * 360}, 100%, 70%)`;
    heart.style.fontSize = (10 + Math.random() * 30) + 'px';
    heart.style.animationDuration = (3 + Math.random() * 5) + 's';
    document.body.appendChild(heart);
    setTimeout(() => heart.remove(), 8000);
}
setInterval(createHeart, 400);

function showCursorGif(x, y) {
    const gif = document.createElement('img');
    gif.src = 'https://media2.giphy.com/media/v1.Y2lkPTc5MGI3NjExaDVsaXA4eXZ0amlrNmg1c3lhejNrMmFkNW96dzB6djV5bzgza3RzNyZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/qm3bI4uuZBrIvJfeO2/giphy.gif';
    gif.style.position = 'absolute';
    gif.style.left = Math.min(x, window.innerWidth - 100) + 'px';
    gif.style.top = Math.min(y, window.innerHeight - 100) + 'px';
    gif.style.width = '100px';
    gif.style.height = '100px';
    gif.style.transform = 'translate(-50%, -50%)';
    document.body.appendChild(gif);
    setTimeout(() => gif.remove(), 4000);
}

function showFallingEmojis() {
    const emojis = ['ðŸ¥¹','ðŸ¥º','ðŸ˜­','ðŸ’”'];
    const count = 7;
    for (let i=0; i<count; i++) {
        const emoji = document.createElement('div');
        emoji.classList.add('falling-emoji');
        emoji.textContent = emojis[Math.floor(Math.random() * emojis.length)];
        emoji.style.left = Math.random() * (window.innerWidth - 30) + 'px';
        document.body.appendChild(emoji);
        setTimeout(() => {
            emoji.remove();
            const collectedEmoji = document.createElement('div');
            collectedEmoji.classList.add('collected');
            collectedEmoji.textContent = emoji.textContent;
            collectedEmoji.style.transform = `rotate(${Math.random()*40-20}deg)`; 
            collectedContainer.appendChild(collectedEmoji);
            currentRowEmojis++;
            if(currentRowEmojis >= maxEmojisPerRow){
                rowCount++;
                collectedContainer.style.bottom = `${rowCount * emojiSize}px`;
                currentRowEmojis = 0;
            }
        }, 4000);
    }
}

function createSparkle() {
    const sparkle = document.createElement('div');
    sparkle.textContent = 'âœ¨';
    sparkle.style.position = 'absolute';
    sparkle.style.left = Math.random() * (window.innerWidth - 20) + 'px';
    sparkle.style.top = window.innerHeight + 'px';
    sparkle.style.fontSize = (5 + Math.random() * 15) + 'px';
    sparkle.style.pointerEvents = 'none';
    sparkle.style.animation = `float 3s linear forwards`;
    document.body.appendChild(sparkle);
    setTimeout(() => sparkle.remove(), 3000);
}
setInterval(createSparkle, 500);
</script>
</body>
</html>
